
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../luxe-modifiers/">
      
      
        <link rel="next" href="../../ui/intro/">
      
      
      <link rel="icon" href="../../../images/luxe-favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>custom modifiers - luxe engine</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#custom-modifiers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="luxe engine" class="md-header__button md-logo" aria-label="luxe engine" data-md-component="logo">
      
  <img src="../../../images/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            luxe engine
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              custom modifiers
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="luxe engine" class="md-nav__button md-logo" aria-label="luxe engine" data-md-component="logo">
      
  <img src="../../../images/logo.svg" alt="logo">

    </a>
    luxe engine
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    about
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    install
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../guide/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    guide
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../tutorials/overview/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    tutorials
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    learn ...
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            learn ...
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tilemaps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    tilemaps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../drawing-2d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2D drawing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" checked>
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    modifiers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            modifiers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../luxe-modifiers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    luxe modifiers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    custom modifiers
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    custom modifiers
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#making-a-modifier" class="md-nav__link">
    <span class="md-ellipsis">
      Making a modifier
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Making a modifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-a-modifierwren-file" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1. A modifier.wren file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-via-editor" class="md-nav__link">
    <span class="md-ellipsis">
      Use via editor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-via-code" class="md-nav__link">
    <span class="md-ellipsis">
      Use via code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-field-types" class="md-nav__link">
    <span class="md-ellipsis">
      Data field types
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ui/intro/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    using UI
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../random-numbers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    random numbers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multiple-wren-files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    multiple wren files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    using modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../manual/overview/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    manual
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#making-a-modifier" class="md-nav__link">
    <span class="md-ellipsis">
      Making a modifier
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Making a modifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-a-modifierwren-file" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1. A modifier.wren file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-via-editor" class="md-nav__link">
    <span class="md-ellipsis">
      Use via editor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-via-code" class="md-nav__link">
    <span class="md-ellipsis">
      Use via code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-field-types" class="md-nav__link">
    <span class="md-ellipsis">
      Data field types
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p><img alt="" src="../../../images/luxe-dark.svg" width="96em" /></p>
<h1 id="custom-modifiers">Custom modifiers<a class="headerlink" href="#custom-modifiers" title="Permanent link">&para;</a></h1>
<p>Typically, <strong>modifiers are where you'll write a majority of your gameplay code</strong>.
Naturally, that means you need to be able to add modifiers of your own to the mix.
These modifiers become available in the editor, and can be used from code to
combine and create complex behaviours in a modular way.</p>
<div class="admonition note">
<p>The modifiers have been rewritten and are just now landing in 2024.x.
This means there may be bugs, gaps or other mysteries. Please let
us know if you run into unexpected behaviour!</p>
</div>
<p>Modifiers exist in a world, and there is <strong>one system per world</strong> for a modifier type.
A modifier system in a world will see and modify ALL entities that have the modifier attached.
This is a little different from a 1:1 relationship, and enables gameplay code to be expressive
about multiple things at once easily, but will still be familiar as you typically are still operating per entity.</p>
<p>As an example, a door modifier will be attached to 20 entities in a world, but in that world 
there is only one door modifier system running. <strong>That system knows about all doors</strong> in that world, and 
can answer questions like how many doors are open, without a lot of effort or looping or searching.</p>
<p>Modifiers can also run custom code in the editor, allowing custom behaviour between editor and the game.
Any of the system functions (init, attach, etc) have an <code>editor_</code> prefixed equivalent as well.</p>
<h2 id="making-a-modifier">Making a modifier<a class="headerlink" href="#making-a-modifier" title="Permanent link">&para;</a></h2>
<h3 id="step-1-a-modifierwren-file">Step 1. A modifier.wren file<a class="headerlink" href="#step-1-a-modifierwren-file" title="Permanent link">&para;</a></h3>
<p>A modifier is a script asset with a <code>modifier</code> subtype. To make a door modifier,
you would make a file named <code>door.modifier.wren</code> in your project, typically inside
a <code>system/door.modifier.wren</code> by convention.</p>
<div class="admonition note">
<p>In a Wren file, <code>This</code> is a built in variable for "module id".</p>
</div>
<p>This file contains three important pieces that we'll get into below:</p>
<ul>
<li>A description of your system <strong>data</strong> per entity</li>
<li>A user facing <strong>API</strong> for your system</li>
<li>The <strong>system</strong> implementation</li>
</ul>
<p>Take a look at the example below:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s">&quot;system/door.modifier.api&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">API</span><span class="p">,</span><span class="w"> </span><span class="nc">Modifier</span><span class="p">,</span><span class="w"> </span><span class="nc">APIGet</span><span class="p">,</span><span class="w"> </span><span class="nc">APISet</span>

<span class="cs">#block = data</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Data</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">locked</span><span class="o">:</span><span class="w"> </span><span class="nc">Bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>

<span class="cs">#api</span>
<span class="cs">#desc = &quot;**A door**. Can be locked or unlocked.&quot;</span>
<span class="cs">#keywords(door, entrance, lock)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Door</span><span class="w"> </span><span class="ow">is</span><span class="w"> </span><span class="nc">API</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">unlock</span><span class="p">(</span><span class="n">entity</span><span class="o">:</span><span class="w"> </span><span class="nc">Entity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">get</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span><span class="o">.</span><span class="n">locked</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="cs">#system</span>
<span class="cs">#phase(on, tick)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">System</span><span class="w"> </span><span class="ow">is</span><span class="w"> </span><span class="nc">Modifier</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="n">init</span><span class="p">(</span><span class="n">world</span><span class="o">:</span><span class="w"> </span><span class="nc">World</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nc">Log</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;init `</span><span class="si">%(</span><span class="nc">This</span><span class="si">)</span><span class="s">` in world `</span><span class="si">%(</span><span class="n">world</span><span class="si">)</span><span class="s">`&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">attach</span><span class="p">(</span><span class="n">entity</span><span class="o">:</span><span class="w"> </span><span class="nc">Entity</span><span class="p">,</span><span class="w"> </span><span class="n">door</span><span class="o">:</span><span class="w"> </span><span class="nc">Data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nc">Log</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;attached to entity `</span><span class="si">%(</span><span class="n">entity</span><span class="si">)</span><span class="s">` - locked? </span><span class="si">%(</span><span class="n">door</span><span class="o">.</span><span class="n">locked</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">detach</span><span class="p">(</span><span class="n">entity</span><span class="o">:</span><span class="w"> </span><span class="nc">Entity</span><span class="p">,</span><span class="w"> </span><span class="n">door</span><span class="o">:</span><span class="w"> </span><span class="nc">Data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nc">Log</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;detached from `</span><span class="si">%(</span><span class="n">entity</span><span class="si">)</span><span class="s">`&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">tick</span><span class="p">(</span><span class="n">delta</span><span class="o">:</span><span class="w"> </span><span class="nc">Num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">each</span><span class="w"> </span><span class="p">{</span><span class="o">|</span><span class="n">entity</span><span class="o">:</span><span class="w"> </span><span class="nc">Entity</span><span class="p">,</span><span class="w"> </span><span class="n">door</span><span class="o">:</span><span class="w"> </span><span class="nc">Data</span><span class="o">|</span>
<span class="w">      </span><span class="c1">//use door.*</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p>Currently there's a <code>door.modifier.api.wren</code> generated for your system alongside it, this 
is a temporary generated file and won't stay long term.</p>
</div>
<h2 id="use-via-editor">Use via editor<a class="headerlink" href="#use-via-editor" title="Permanent link">&para;</a></h2>
<p>If you save your file and re-open your project in the editor (it's not able to hot reload at the moment).
Once opened, on an entity you can select attach and see your Door modifier is now available.</p>
<p><img alt="" src="../../../images/tutorial/modifiers/attaching.png" /></p>
<p>And if attached, will show up in omni along with the other modifiers below the scene outline.</p>
<p><img alt="" src="../../../images/tutorial/modifiers/attached.png" /></p>
<h2 id="use-via-code">Use via code<a class="headerlink" href="#use-via-code" title="Permanent link">&para;</a></h2>
<p>To use the modifier in code, you import the API class from the modifier id. Ours was called
<code>system/door.modifier.wren</code> which makes the modifier id <code>system/door.modifier</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s">&quot;system/door.modifier&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">Door</span>

<span class="o">...</span>

<span class="k">var</span><span class="w"> </span><span class="n">door</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Entity</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;door&quot;</span><span class="p">)</span>
<span class="nc">Door</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">door</span><span class="p">)</span>
<span class="nc">Door</span><span class="o">.</span><span class="n">unlock</span><span class="p">(</span><span class="n">door</span><span class="p">)</span>
</code></pre></div>
<h2 id="data-field-types">Data field types<a class="headerlink" href="#data-field-types" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Docs WIP</p>
<p>These will get documented nicely, but here is a dump of the types and examples available
to systems. Some of these have rough edges and will change slightly (nothing major).</p>
</div>
<p><img alt="" src="../../../images/tutorial/modifiers/fields.png" /></p>
<div class="highlight"><pre><span></span><code><span class="cs">#block = data</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Data</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="cs">#display = &quot;Number (count)&quot;</span>
<span class="cs">  var number : Num = 11</span>
<span class="cs">  #display = &quot;name&quot;</span>
<span class="cs">  var string : String = &quot;luxe&quot; </span>
<span class="cs">  var enum : MyTextAlign = MyTextAlign.bottom //defined below</span>
<span class="cs">  var uuid : UUID = null</span>
<span class="cs">  var link : Link = null //a reference to an entity in the editor/scene</span>
<span class="cs">  var color : Color = [1,1,1,1]</span>
<span class="cs">  var float2 : Float2 = [1,1]</span>
<span class="cs">  var float3 : Float3 = [1,1,1]</span>
<span class="cs">  var float4 : Float4 = [1,1,1,1]</span>
<span class="cs">  var boolean : Bool = true</span>

<span class="cs">  //Asset types have a type stored in the #tag </span>
<span class="cs">  //so that the editor can show just the type you care about</span>

<span class="cs">  #tag = &quot;luxe: type/scene.asset&quot;</span>
<span class="cs">  var scene_to_load : Asset = &quot;some/asset&quot;</span>

<span class="cs">  //Strings can be tagged to add an OS file picker</span>
<span class="cs">  //with `path`, `path.open`, `path.save`, and `path.folder`</span>

<span class="cs">  #tag = &quot;path.folder&quot;</span>
<span class="cs">  var project_location: String = &quot;&quot;</span>

<span class="cs">  //Show if can hide fields that aren&#39;t relevant</span>
<span class="cs">  //based on the value in another option field.</span>
<span class="cs">  //So this field will only be visible in the UI if the enum is </span>
<span class="cs">  //set to MyTextAlign.center in the UI </span>

<span class="cs">  #show_if(enum = center)</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nc">Num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">22</span>

<span class="w">  </span><span class="c1">//Arrays</span>

<span class="w">  </span><span class="c1">//They have a count for efficiency,</span>
<span class="w">  </span><span class="c1">//the count isn&#39;t a limit. It&#39;s how much</span>
<span class="w">  </span><span class="c1">//space to reserve for your common use case,</span>
<span class="w">  </span><span class="c1">//which will make operating on this field faster.</span>

<span class="w">  </span><span class="c1">//For now, we specify the type as a tag on the field,</span>
<span class="w">  </span><span class="c1">//this will be improved later.</span>
<span class="w">  </span><span class="c1">//Any primitive array can have a default</span>

<span class="w">  </span><span class="cs">#count = 4</span>
<span class="w">  </span><span class="cs">#type = Num</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">array_number</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nc">List</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">22</span><span class="p">,</span><span class="w"> </span><span class="mf">33</span><span class="p">,</span><span class="w"> </span><span class="mf">44</span><span class="p">,</span><span class="w"> </span><span class="mf">55</span><span class="p">]</span>

<span class="w">  </span><span class="cs">#count = 2</span>
<span class="w">  </span><span class="cs">#type = MyTextAlign</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">array_enum</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nc">List</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MyTextAlign</span><span class="o">.</span><span class="n">center</span><span class="p">]</span>

<span class="w">  </span><span class="c1">//No defaults for objects here, </span>
<span class="w">  </span><span class="c1">//defaults are defined in the object itself</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nc">Obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Object</span>

<span class="w">  </span><span class="c1">//Arrays of objects are valid too,</span>
<span class="w">  </span><span class="c1">//and they work similarly, they can&#39;t</span>
<span class="w">  </span><span class="c1">//have a default here. The list can </span>
<span class="w">  </span><span class="c1">//have an empty default though</span>

<span class="w">  </span><span class="cs">#count = 1</span>
<span class="w">  </span><span class="cs">#type = Obj</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">obj_array</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nc">List</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">  </span><span class="c1">//Groups</span>
<span class="w">  </span><span class="c1">//Any consecutive fields with the same group tag </span>
<span class="w">  </span><span class="c1">//will be collected together in a collapsible group</span>

<span class="w">  </span><span class="cs">#group=&quot;Stuff Together&quot;</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">hey</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nc">Num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">99.0</span>
<span class="w">  </span><span class="cs">#group=&quot;Stuff Together&quot;</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">hi</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nc">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;how?&quot;</span><span class="w"> </span>

<span class="w">  </span><span class="cs">#group=&quot;Other Together&quot;</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">why</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nc">Num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">99.0</span>
<span class="w">  </span><span class="cs">#group=&quot;Other Together&quot;</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nc">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;how?&quot;</span><span class="w"> </span>

<span class="p">}</span>

<span class="c1">//option tag is required</span>
<span class="cs">#option</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyTextAlign</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;left&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">center</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;center&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;right&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;top&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">bottom</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;bottom&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">//Objects have the same types as above</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Obj</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">other</span><span class="o">:</span><span class="w"> </span><span class="nc">Num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">some</span><span class="o">:</span><span class="w"> </span><span class="nc">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;fields&quot;</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">here</span><span class="o">:</span><span class="w"> </span><span class="nc">Color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">111</span><span class="p">,</span><span class="mf">112</span><span class="p">,</span><span class="mf">113</span><span class="p">,</span><span class="mf">114</span><span class="p">]</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">yea</span><span class="o">:</span><span class="w"> </span><span class="nc">Float2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">11</span><span class="p">,</span><span class="w"> </span><span class="mf">12</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p><img alt="" src="../../../images/tutorial/modifiers/groups.png" /></p>
<p>To be continued...</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="September 3, 2025 06:41:06 UTC">September 3, 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="footer.title">
      
        <a href="../luxe-modifiers/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
                 
                  <span class="md-footer-nav__parent">modifiers</span> 
                
              </span>
              luxe modifiers
            </div>
          </div>
        </a>
      
      
        <a href="../../ui/intro/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
                 
                  <span class="md-footer-nav__parent">using UI</span> 
                
              </span>
              overview
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/luxeengine" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 0c4.42 0 8 3.58 8 8a8.01 8.01 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27s-1.36.09-2 .27c-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8"/></svg>
    </a>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["instant", "navigation.prune"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>